_gasmask = ["KA_MCU", "avon_fm12", "avon_fm12_strapless", "avon_ct12", "avon_ct12_strapless", "avon_SF12", "avon_SF12_strapless", "Mask_M40", "Mask_M40_OD", "Mask_M50", "Gasmask", "G_mas_wpn_gasmask", "G_mas_wpn_gasmask_comp", "KVA_MASK", "TAC_SF10", "ibr_gasmask_SF10", "skn_m04_gas_mask_blu", "skn_m04_gas_mask_blk", "skn_m04_gas_mask_gre", "skn_m04_gas_mask_bare_dry", "skn_s10_balaclava_blue_dry", "skn_s10_balaclava_red_dry", "skn_s10_balaclava_yellow_dry", "skn_s10_balaclava_white_dry", "skn_m50_gas_mask_hood", "skn_m50_gas_mask", "skn_m50_gas_mask_hood_wd", "CPE_MK50", "LAGO_CRYSIS_HUD", "G_RegulatorMask_F", "G_AirPurifyingRespirator_01_F", "G_AirPurifyingRespirator_02_olive_F", "G_AirPurifyingRespirator_02_sand_F", "G_AirPurifyingRespirator_02_black_F", "SP_GasMask_Black", "av_gasm1", "av_gasm2", "av_gasm3", "av_gasm4", "av_gasm5", "av_gasm6", "av_gasm7", "av_gasm8", "WAINO_BLC_BK", "USP_SOLR_AF", "USP_SOLR_AF_CBR", "USP_SOLR_AF_MC", "USP_SOLR_AF_RGR", "USP_SOLR_AF_NP", "USP_SOLR_AF_NT", "USP_SOLR_AF_CBR_OAK", "USP_SOLR_AF_OAK", "USP_SOLR_AF_MC_OAK", "USP_SOLR_AF_RGR_OAK", "USP_SOLR_AF_OAK_NT", "USP_SOLR_AF_OAK_NP", "TAC_SF10", "USP_SOLR_AF2", "USP_SOLR_AF2_CBR", "USP_SOLR_AF2_MC", "USP_SOLR_AF2_RGR", "USP_SOLR_AF2_NP", "USP_SOLR_AF2_NT", "USP_SOLR", "USP_SOLR_CBR_OAK", "USP_SOLR_CBR", "USP_SOLR_MC", "USP_SOLR_MC_OAK", "USP_SOLR_RGR", "USP_SOLR_RGR_OAK", "USP_SOLR_OAK_NP", "USP_SOLR_NP", "USP_SOLR_NT", "USP_SOLR_OAK_NT", "USP_SOLR_OAK", "USP_SOLR2", "USP_SOLR2_CBR", "USP_SOLR2_MC", "USP_SOLR2_RGR", "USP_SOLR2_NP", "USP_SOLR2_NT", "USP_SOLR_TW", "USP_SOLR_TW_CBR", "USP_SOLR_TW_MC", "USP_SOLR_TW_RGR", "USP_SOLR_TW_NP", "USP_SOLR_TW_NT", "USP_SOLR_TW_OAK", "USP_SOLR_TW_CBR_OAK", "USP_SOLR_TW_MC_OAK", "USP_SOLR_TW_RGR_OAK", "USP_SOLR_TW_OAK_NT", "USP_SOLR_TW_OAK_NP", "USP_SOLR_TW2", "USP_SOLR_TW2_MC", "USP_SOLR_TW2_RGR", "USP_SOLR_TW2_CBR", "USP_SOLR_TW2_NP", "USP_SOLR_TW2_NT", "USP_SOLR_XP", "USP_SOLR_XP_CBR", "USP_SOLR_XP_RGR", "USP_SOLR_XP_MC", "USP_SOLR_XP_NT", "USP_SOLR_XP_NP", "USP_SOLR_XP_OAK", "USP_SOLR_XP_CBR_OAK", "USP_SOLR_XP_MC_OAK", "USP_SOLR_XP_RGR_OAK", "USP_SOLR_XP_OAK_NP", "USP_SOLR_XP_OAK_NT", "USP_SOLR_XP2", "USP_SOLR_XP2_CBR", "USP_SOLR_XP2_RGR", "USP_SOLR_XP2_MC", "USP_SOLR_XP2_NT", "NP", "gm_ge_facewear_m65","gm_gc_army_facewearschm41m","COX_M40_filter","COX_M40_filterless","COX_M40_filter_blue","COX_M40_filterless_blue","COX_M40_filter_green","COX_M40_filterless_green","COX_M40_filter_xoc","COX_M40_filterless_xoc", "M40_Gas_mask_nbc_hood_v1_s", "M40_Gas_mask_nbc_hood_v2_s", "M40_Gas_mask_nbc_hood_v3_s", "M40_Gas_mask_nbc_hood_v4_s", "M40_Gas_mask_nbc_hood_v5_s", "M40_Gas_mask_nbc_hood_v6_s", "M40_Gas_mask_nbc_hood_v7_s", "M40_Gas_mask_nbc_hood_v8_s", "M40_Gas_mask_nbc_hood_v9_s", "M40_Gas_mask_nbc_v1_d", "M40_Gas_mask_nbc_v2_d", "M40_Gas_mask_nbc_v3_d", "M40_Gas_mask_nbc_v4_d", "M40_Gas_mask_nbc_v1_g", "M40_Gas_mask_nbc_v2_g", "M40_Gas_mask_nbc_v3_g", "M40_Gas_mask_nbc_v4_g", "M40_Gas_mask_nbc_f1_d", "M40_Gas_mask_nbc_f2_d", "M40_Gas_mask_nbc_f3_d", "M40_Gas_mask_nbc_f4_d", "M40_Gas_mask_nbc_green_k1_d", "M40_Gas_mask_nbc_green_k2_d", "M40_Gas_mask_nbc_green_k3_d", "M40_Gas_mask_nbc_green_k4_d",
"JSHK_contam_mask_s10_3cd", "JSHK_contam_mask_s10_blk", "JSHK_contam_mask_s10_blue", "JSHK_contam_mask_s10_cadpat", "JSHK_contam_mask_s10_ce", "JSHK_contam_mask_s10_dcp", "JSHK_contam_mask_s10_ddpm", "JSHK_contam_mask_s10_dpm", "JSHK_contam_mask_s10_fleck", "JSHK_contam_mask_s10_flora", "JSHK_contam_mask_s10_gray", "JSHK_contam_mask_s10_green", "JSHK_contam_mask_s10_jeitai", "JSHK_contam_mask_s10_m81", "JSHK_contam_mask_s10_m84", "JSHK_contam_mask_s10_m90", "JSHK_contam_mask_s10_mc", "JSHK_contam_mask_s10_mtp", "JSHK_contam_mask_s10_orange", "JSHK_contam_mask_s10_red", "JSHK_contam_mask_s10_tstripe", "JSHK_contam_mask_s10_tubitak", "JSHK_contam_mask_s10_ucp", "JSHK_contam_mask_s10_urban", "JSHK_contam_mask_s10_white", "JSHK_contam_mask_s10_winter", "JSHK_contam_mask_s10_yellow", "JSHK_contam_mask_m04_hoodless", "JSHK_contam_mask_m50_hoodless", "JSHK_contam_mask_m04_3cd_hood", "JSHK_contam_mask_m04_blk_hood",
"JSHK_contam_mask_m04_blue_hood", "JSHK_contam_mask_m04_cadpat_hood", "JSHK_contam_mask_m04_ce_hood", "JSHK_contam_mask_m04_dcp_hood", "JSHK_contam_mask_m04_ddpm_hood","JSHK_contam_mask_m04_dpm_hood","JSHK_contam_mask_m04_fleck_hood","JSHK_contam_mask_m04_flora_hood","JSHK_contam_mask_m04_gray_hood","JSHK_contam_mask_m04_green_hood","JSHK_contam_mask_m04_jeitai_hood","JSHK_contam_mask_m04_m81_hood","JSHK_contam_mask_m04_m84_hood","JSHK_contam_mask_m04_m90_hood",
"JSHK_contam_mask_m04_mc_hood", "JSHK_contam_mask_m04_mtp_hood", "JSHK_contam_mask_m04_red_hood", "JSHK_contam_mask_m04_tstripe_hood", "JSHK_contam_mask_m04_tubitak_hood", "JSHK_contam_mask_m04_urban_hood", "JSHK_contam_mask_m04_white_hood","JSHK_contam_mask_m04_winter_hood", "JSHK_contam_mask_m04_yellow_hood","JSHK_contam_mask_m50_3cd_hood", "JSHK_contam_mask_m50_blk_hood", "JSHK_contam_mask_m50_blue_hood","JSHK_contam_mask_m50_cadpat_hood", "JSHK_contam_mask_m50_ce_hood",
"JSHK_contam_mask_m50_dcp_hood","JSHK_contam_mask_m50_ddpm_hood", "JSHK_contam_mask_m50_dpm_hood", "JSHK_contam_mask_m50_fleck_hood", "JSHK_contam_mask_m50_flora_hood", "JSHK_contam_mask_m50_gray_hood", "JSHK_contam_mask_m50_green_hood", "JSHK_contam_mask_m50_jeitai_hood", "JSHK_contam_mask_m50_m81_hood", "JSHK_contam_mask_m50_m84_hood", "JSHK_contam_mask_m50_m90_hood", "JSHK_contam_mask_m50_mc_hood", "JSHK_contam_mask_m50_mtp_hood", "JSHK_contam_mask_m50_orange_hood", "JSHK_contam_mask_m50_red_hood", "JSHK_contam_mask_m50_tstripe_hood", "JSHK_contam_mask_m50_tubitak_hood", "JSHK_contam_mask_m50_ucp_hood", "JSHK_contam_mask_m50_urban_hood", "JSHK_contam_mask_m50_white_hood", "JSHK_contam_mask_m50_winter_hood", "JSHK_contam_mask_m50_yellow_hood"];
_vest = ["V_RebreatherB", "V_RebreatherIR", "V_RebreatherIA", "V_RebreatherB_S", "V_RebreatherIR_S", "V_RebreatherIA_S", "V_Rebreather_Nano_NATO", "V_Rebreather_Nano_CSAT"];
_headgear = ["LAGO_CRYSIS_Helmet", "LAGO_CRYSIS_Helmet_O"];

_myvariable = -1;

While {true} do {

	waituntil {((nearestObject [getpos player, "gla_40mm_cs_gas"]) distance player < 12) and (getpos (nearestObject [getpos player, "gla_40mm_cs_gas"]) select 2 < 0.5)};

	if ((goggles player in _gasmask) or (headgear player in _headgear) or (vest player in _vest)) then {

		playmusic "diver";
		3 fadeMusic 0.3;

	} else {
		
		// Start coughing sound effects
		playmusic "coughing";
		
		// Run the teargas effects on player
		"dynamicBlur" ppEffectEnable true;
		"dynamicBlur" ppEffectAdjust [5];
		"dynamicBlur" ppEffectCommit 20;
		enableCamShake true;
		addCamShake [10, 45, 10];
		player setFatigue 1;
		
		// Fade music/sound down
		5 fadeMusic 0.1;
		sleep 5;
		
		// More intense effects
		"dynamicBlur" ppEffectAdjust [20]; // intensity of blur
		"dynamicBlur" ppEffectCommit 20; // time till vision is fully blurred
		
		sleep 5;
		
	};
	
	sleep 5;
	
	
	// Back to Normal conditions this instantly gets overwritten with above if still in the effect zone.
	"dynamicBlur" ppEffectEnable true; // enables ppeffect
	"dynamicBlur" ppEffectAdjust [0]; // enables normal vision
	"dynamicBlur" ppEffectCommit 15; // time it takes to normal
	resetCamShake; // resets the shake
	20 fadeMusic 1;	 //fades the music back to normal
};
